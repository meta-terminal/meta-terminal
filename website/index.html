<!DOCTYPE html>
<html lang="fa" dir="rtl" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meta-Terminal | Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù‡ÙˆØ´Ù…Ù†Ø¯</title>
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%230e131a'/><path d='M30,30 L50,50 L30,70' stroke='%2323a1ff' stroke-width='8' fill='none'/><circle cx='70' cy='50' r='10' fill='%236bd5ff'/></svg>">
  <style>
    :root {
      /* ØªÙ… ØªØ§Ø±ÛŒÚ© Ù¾ÛŒØ´â€ŒÙØ±Ø¶ */
      --bg-primary: #0b0f14;
      --bg-secondary: #0e131a;
      --bg-card: #111827;
      --bg-accent: rgba(35, 161, 255, 0.16);
      --text-primary: #eaf2ff;
      --text-secondary: #9bb0c9;
      --border: #1b2432;
      --accent: #23a1ff;
      --accent-hover: #6bd5ff;
      --success: #18c38b;
      --warning: #ffb020;
      --danger: #ff4d6d;
      --radius: 16px;
      --shadow: 0 16px 48px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.03);
      --glass-bg: linear-gradient(180deg, rgba(17,24,39,.72) 0%, rgba(11,16,26,.72) 100%);
      --glass-border: 1px solid var(--border);
      --transition: all 0.3s ease;
    }
    [data-theme="light"] {
      --bg-primary: #f0f4f9;
      --bg-secondary: #ffffff;
      --bg-card: #eef2f7;
      --text-primary: #0f172a;
      --text-secondary: #64748b;
      --border: #cbd5e1;
      --accent: #0f6fc7;
      --accent-hover: #1788e8;
      --bg-accent: rgba(15, 111, 199, 0.1);
      --shadow: 0 16px 48px rgba(0,0,0,.1), inset 0 0 0 1px rgba(0,0,0,.03);
      --glass-bg: linear-gradient(180deg, rgba(255,255,255,.8) 0%, rgba(245,247,250,.8) 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Vazirmatn", system-ui, sans-serif;
      color: var(--text-primary);
      background: radial-gradient(1400px 900px at 70% 0%, #0f1624 0%, var(--bg-primary) 48%, #06080c 100%);
      min-height: 100vh;
      transition: var(--transition);
    }

    .hidden { display: none !important; }
    .container { max-width: 1200px; margin: 0 auto; padding: 16px; }
    .glass {
      background: var(--glass-bg);
      backdrop-filter: saturate(160%) blur(12px);
      border: var(--glass-border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 24px;
      transition: var(--transition);
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 12px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(180deg, var(--accent) 0%, var(--accent-hover) 100%);
      color: white;
      box-shadow: 0 8px 24px rgba(35, 161, 255, 0.3);
      transition: var(--transition);
    }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 12px 32px rgba(35, 161, 255, 0.4); }
    .btn-outline {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text-primary);
    }
    .theme-toggle {
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      font-size: 1.2rem;
    }

    /* Ù†Ù…Ø§Ø¯ Meta-Terminal */
    .logo-wrap { width: 180px; height: 180px; margin: 0 auto 24px; filter: drop-shadow(0 10px 24px rgba(35,161,255,.38)); }
    .logo {
      width: 100%; height: 100%; border-radius: 28%; position: relative;
      background: conic-gradient(from 210deg at 50% 50%, transparent 0 22deg, rgba(35,161,255,.8) 22deg 46deg, transparent 46deg 360deg),
                  radial-gradient(78px 78px at 50% 50%, rgba(35,161,255,.18), transparent 70%);
    }
    .logo::before, .logo::after {
      content: ""; position: absolute; inset: 20% 18%; border-radius: 14px;
      border: 3px solid rgba(35,161,255,.9);
      box-shadow: inset 0 0 28px rgba(35,161,255,.28), 0 0 24px rgba(35,161,255,.45);
    }
    .logo::after { inset: 32% 26%; border: 2px solid rgba(107,213,255,.95); box-shadow: inset 0 0 18px rgba(107,213,255,.4), 0 0 16px rgba(107,213,255,.42); }

    /* ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ */
    .auth { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 48px 16px; }
    .auth-card { max-width: 500px; width: 100%; text-align: center; }
    .auth h1 { font-size: 2.2rem; margin: 16px 0 8px; }
    .auth p { color: var(--text-secondary); margin-bottom: 24px; }
    .input-group { display: flex; gap: 8px; margin-top: 16px; }
    .input-group input {
      flex: 1;
      padding: 14px;
      border-radius: 10px;
      border: 1px solid var(--border);
      background: rgba(16, 22, 32, 0.7);
      color: var(--text-primary);
    }
    .divider { display: flex; align-items: center; gap: 16px; margin: 24px 0; color: var(--text-secondary); }
    .divider::before, .divider::after { content: ""; flex: 1; height: 1px; background: var(--border); }
    .gicon { width: 20px; height: 20px; border-radius: 50%; background: conic-gradient(from 0deg, #ea4335 0 25%, #fbbc05 25% 50%, #34a853 50% 75%, #4285f4 75% 100%); }

    /* Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§ØµÙ„ÛŒ */
    .app { min-height: 100vh; display: flex; flex-direction: column; }
    .topbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 16px 24px;
      position: sticky; top: 0; z-index: 100;
      background: linear-gradient(180deg, rgba(8,12,18,.85) 0%, rgba(8,12,18,.65) 100%);
      backdrop-filter: saturate(140%) blur(10px);
      border-bottom: 1px solid var(--border);
    }
    .brand { display: flex; align-items: center; gap: 12px; font-weight: 800; font-size: 1.4rem; }
    .mini-logo { width: 32px; height: 32px; border-radius: 8px; position: relative; background: conic-gradient(from 210deg, transparent 0 30deg, rgba(35,161,255,.75) 30deg 48deg, transparent 48deg 360deg); }
    .mini-logo::after { content: ""; position: absolute; inset: 25% 25%; border: 2px solid rgba(107,213,255,.95); border-radius: 6px; }

    .nav-tabs { display: flex; gap: 8px; flex-wrap: wrap; }
    .tab { padding: 10px 16px; border-radius: 10px; cursor: pointer; background: transparent; border: 1px solid transparent; color: var(--text-secondary); transition: var(--transition); }
    .tab:hover { background: rgba(18,24,35,.35); color: var(--text-primary); border-color: var(--border); }
    .tab.active { background: var(--bg-accent); color: white; border-color: rgba(35,161,255,.35); }

    .main-grid { display: grid; grid-template-columns: 1.2fr 0.8fr; gap: 16px; padding: 16px; }
    .panel { padding: 16px; }
    .panel h3 { margin-bottom: 12px; font-size: 1.3rem; }
    .panel p { color: var(--text-secondary); margin-bottom: 8px; }
    .card { padding: 16px; border-radius: 12px; border: 1px solid var(--border); background: var(--bg-card); margin-bottom: 16px; }

    /* ØªØ±Ù…ÛŒÙ†Ø§Ù„ */
    #terminal-container { height: 300px; border: 1px solid var(--border); border-radius: 10px; padding: 8px; background: #0a0f16; overflow: hidden; }
    #terminal { height: 100%; font-family: 'Fira Code', 'Consolas', monospace; font-size: 14px; color: #9bd1ff; background: #0a0f16; }
    .terminal-status { display: flex; align-items: center; gap: 8px; margin-top: 8px; color: var(--success); font-size: 0.9rem; }

    /* Ú†Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ */
    .chat-container { margin-top: 16px; }
    .chat-header { display: flex; align-items: center; gap: 10px; padding-bottom: 12px; border-bottom: 1px solid var(--border); }
    .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--success); box-shadow: 0 0 8px var(--success); }
    .chat-body { height: 200px; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 10px; }
    .msg { max-width: 80%; padding: 10px 14px; border-radius: 12px; }
    .msg-user { align-self: flex-end; background: var(--bg-accent); border: 1px solid rgba(35,161,255,.35); color: var(--text-primary); }
    .msg-ai { align-self: flex-start; background: var(--bg-card); border: 1px solid var(--border); color: var(--text-primary); }
    .chat-input { display: flex; gap: 8px; padding-top: 12px; border-top: 1px solid var(--border); }
    .chat-input input { flex: 1; padding: 10px 14px; border-radius: 10px; border: 1px solid var(--border); background: rgba(16,22,32,.7); color: var(--text-primary); }
    .chat-input button { padding: 10px 16px; border-radius: 10px; background: var(--accent); color: white; border: none; cursor: pointer; }

    /* ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ… */
    .status-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; }
    .status-item { padding: 12px; text-align: center; border-radius: 10px; background: var(--bg-card); }
    .status-item .value { font-size: 1.4rem; font-weight: bold; color: var(--accent); }
    .status-item .label { font-size: 0.85rem; color: var(--text-secondary); }

    /* Ù¾ÛŒØ´Ø±ÙØª */
    .progress-bar { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; margin-top: 8px; }
    .progress-fill { height: 100%; width: 0; background: var(--accent); transition: width 0.4s ease; }

    @media (max-width: 900px) {
      .main-grid { grid-template-columns: 1fr; }
      .topbar { flex-direction: column; gap: 12px; }
    }
  </style>
</head>
<body>

  <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯ -->
  <section id="auth-screen" class="auth">
    <div class="auth-card glass">
      <div class="logo-wrap"><div class="logo" aria-label="Meta-Terminal Logo"></div></div>
      <h1>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯</h1>
      <p>Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ØŒ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯</p>

      <button class="btn" id="btn-google-auth">
        <span class="gicon"></span>
        ÙˆØ±ÙˆØ¯ Ø¨Ø§ Google
      </button>

      <div class="divider">ÛŒØ§</div>

      <div class="input-group">
        <input type="email" id="email-input" placeholder="Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„" />
        <button class="btn" id="btn-email-auth">Ø§Ø¯Ø§Ù…Ù‡</button>
      </div>
      <p style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 12px;">
        Ø¨Ø§ ÙˆØ±ÙˆØ¯ØŒ Ø´Ø±Ø§ÛŒØ· Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ø±Ø§ Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±ÛŒØ¯.
      </p>
    </div>
  </section>

  <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø§ØµÙ„ÛŒ -->
  <section id="app-screen" class="app hidden">
    <header class="topbar">
      <div class="brand">
        <div class="mini-logo"></div>
        <span>Meta-Terminal</span>
      </div>
      <div style="display: flex; align-items: center; gap: 16px;">
        <button class="theme-toggle" id="theme-toggle" aria-label="ØªØºÛŒÛŒØ± ØªÙ…">ğŸŒ™</button>
        <div style="display: flex; gap: 8px;">
          <button class="tab active" data-tab="dashboard">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</button>
          <button class="tab" data-tab="terminal">ØªØ±Ù…ÛŒÙ†Ø§Ù„</button>
          <button class="tab" data-tab="ai">Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</button>
        </div>
      </div>
    </header>

    <main class="container">
      <div class="main-grid">
        <div class="panel">
          <div id="dashboard-content">
            <h3>Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ØŒ Majid!</h3>
            <p>Ø³ÛŒØ³ØªÙ… Meta-Terminal Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø´Ø¯.</p>

            <div class="card">
              <h4>ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒØ³ØªÙ…</h4>
              <div class="status-grid">
                <div class="status-item">
                  <div class="value">98%</div>
                  <div class="label">CPU</div>
                  <div class="progress-bar"><div class="progress-fill" style="width: 98%;"></div></div>
                </div>
                <div class="status-item">
                  <div class="value">85%</div>
                  <div class="label">RAM</div>
                  <div class="progress-bar"><div class="progress-fill" style="width: 85%;"></div></div>
                </div>
                <div class="status-item">
                  <div class="value">12GB</div>
                  <div class="label">Disk</div>
                </div>
                <div class="status-item">
                  <div class="value">2.4GHz</div>
                  <div class="label">GPU</div>
                </div>
              </div>
            </div>

            <div class="card">
              <h4>Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</h4>
              <ul style="padding-right: 20px;">
                <li>meta-terminal/core</li>
                <li>meta-terminal/models</li>
                <li>meta-terminal/website</li>
              </ul>
            </div>
          </div>

          <div id="terminal-content" class="hidden">
            <h3>Ù…ØªØ§ ØªØ±Ù…ÛŒÙ†Ø§Ù„</h3>
            <p>Ù¾Ù†Ù„ Ú©Ù†ØªØ±Ù„ ØªØ±Ù…ÛŒÙ†Ø§Ù„ Ù‡ÙˆØ´Ù…Ù†Ø¯</p>
            <div id="terminal-container">
              <div id="terminal">> Loading xterm.js...</div>
            </div>
            <div class="terminal-status">
              <span>â—</span> Ø§ØªØµØ§Ù„ Ø¨Ø±Ù‚Ø±Ø§Ø± Ø´Ø¯
            </div>
          </div>

          <div id="ai-content" class="hidden">
            <h3>Ú†Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</h3>
            <p>Ø¨Ø§ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ ÛŒØ§ Ø®Ø§Ø±Ø¬ÛŒ ØµØ­Ø¨Øª Ú©Ù†ÛŒØ¯</p>
            <div class="chat-container glass">
              <div class="chat-header">
                <div class="dot"></div>
                <strong>AI Assistant</strong>
              </div>
              <div class="chat-body" id="chat-body">
                <div class="msg msg-ai">Ø³Ù„Ø§Ù…! Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ú©Ù…Ú©ØªÙˆÙ† Ú©Ù†Ù…ØŸ</div>
              </div>
              <div class="chat-input">
                <input type="text" id="chat-input" placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." />
                <button id="chat-send">Ø§Ø±Ø³Ø§Ù„</button>
              </div>
            </div>
          </div>
        </div>

        <div class="panel">
          <div class="card">
            <h4>ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆØ±</h4>
            <p><strong>Ø¢Ø¯Ø±Ø³:</strong> <span id="server-url">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...</span></p>
            <p><strong>ÙˆØ¶Ø¹ÛŒØª:</strong> <span style="color: var(--success);">ÙØ¹Ø§Ù„</span></p>
            <p><strong>ÙˆØ±Ú˜Ù†:</strong> v1.0.0</p>
          </div>
          <div class="card">
            <h4>Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h4>
            <ul style="padding-right: 20px;">
              <li>WebSocket ØªØ±Ù…ÛŒÙ†Ø§Ù„</li>
              <li>Ú†Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ</li>
              <li>API ÛŒÚ©Ù¾Ø§ÛŒÙ‡</li>
              <li>ØªÙ… Ø¯Ù‡ÛŒ Ù¾ÙˆÛŒØ§</li>
            </ul>
          </div>
        </div>
      </div>
    </main>
  </section>

  <script>
    // ØªØ¹ÙˆÛŒØ¶ ØªÙ…
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      themeToggle.textContent = next === 'dark' ? 'ğŸŒ™' : 'â˜€ï¸';
    });

    // ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯
    document.getElementById('btn-google-auth').addEventListener('click', () => {
      alert('ÙˆØ±ÙˆØ¯ Ø¨Ø§ Google ÙØ¹Ø§Ù„ Ø´Ø¯ (Ø¯Ø± Ù†Ø³Ø®Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ø§ÛŒÙ†Ø¬Ø§ OAuth Ø±Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯).');
      showApp();
    });
    document.getElementById('btn-email-auth').addEventListener('click', () => {
      const email = document.getElementById('email-input').value;
      if(email) { alert('Ø§ÛŒÙ…ÛŒÙ„ Ø«Ø¨Øª Ø´Ø¯: ' + email); showApp(); }
    });

    function showApp() {
      document.getElementById('auth-screen').classList.add('hidden');
      document.getElementById('app-screen').classList.remove('hidden');
      document.getElementById('server-url').textContent = window.location.origin;
    }

    // Ù†Ø§ÙˆØ¨Ø±ÛŒ ØªØ¨â€ŒÙ‡Ø§
    document.querySelectorAll('.tab[data-tab]').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        const target = tab.dataset.tab;
        document.querySelectorAll('#dashboard-content, #terminal-content, #ai-content').forEach(el => el.classList.add('hidden'));
        document.getElementById(`${target}-content`).classList.remove('hidden');
      });
    });

    // Ú†Øª Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ
    const chatBody = document.getElementById('chat-body');
    const chatInput = document.getElementById('chat-input');
    const chatSend = document.getElementById('chat-send');

    function addMessage(text, isUser = false) {
      const msg = document.createElement('div');
      msg.classList.add('msg');
      msg.classList.add(isUser ? 'msg-user' : 'msg-ai');
      msg.textContent = text;
      chatBody.appendChild(msg);
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    chatSend.addEventListener('click', () => {
      const text = chatInput.value.trim();
      if (text) {
        addMessage(text, true);
        chatInput.value = '';
        // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø§Ø³Ø®
        setTimeout(() => addMessage('Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯: "' + text + '". Ù¾Ø§Ø³Ø® Ù†Ù…ÙˆÙ†Ù‡ Ø§Ø² Ø³Ù…Øª Ø³Ø±ÙˆØ±.'), 1000);
      }
    });
    chatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') chatSend.click();
    });

    // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ xterm.js
    document.addEventListener('DOMContentLoaded', () => {
        const termContainer = document.getElementById('terminal');
        termContainer.innerHTML = `
        <pre style="margin:0; color:#9bd1ff">
â”Œâ”€[guest@meta-terminal] - [~]
â””â”€$ <span style="color:#23a1ff;">echo "Meta-Terminal v1.0.0"</span>
Meta-Terminal v1.0.0
â”Œâ”€[guest@meta-terminal] - [~]
â””â”€$ <span style="color:#23a1ff;">python3 --version</span>
Python 3.11.5
        </pre>
        `;
    });
  </script>
</body>
</html>
